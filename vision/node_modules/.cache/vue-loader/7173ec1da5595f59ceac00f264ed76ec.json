{"remainingRequest":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\12130\\Desktop\\项目\\vision\\src\\views\\ScreenPage.vue?vue&type=style&index=0&id=6e92ad55&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\src\\views\\ScreenPage.vue","mtime":1616858545648},{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\css-loader\\dist\\cjs.js","mtime":1615108059555},{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1615108060518},{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\postcss-loader\\src\\index.js","mtime":1611403627919},{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\less-loader\\dist\\cjs.js","mtime":1616668833295},{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615108034129},{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\vue-loader\\lib\\index.js","mtime":1615108060518}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQovKiDlhajlsY/lsZXnpLogKi8NCi5mdWxsc2NyZWVuIHsNCnBvc2l0aW9uOiBmaXhlZCFpbXBvcnRhbnQ7DQp0b3A6IDAgIWltcG9ydGFudDsNCmxlZnQ6IDAgIWltcG9ydGFudDsNCndpZHRoOiAxMDAlICFpbXBvcnRhbnQ7DQpoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDsNCm1hcmdpbjogMCAhaW1wb3J0YW50Ow0Kei1pbmRleDogMTAwOw0KfQ0KLnNjcmVlbi1jb250YWluZXIgew0Kd2lkdGg6IDEwMCU7DQpoZWlnaHQ6IDEwMCU7DQpwYWRkaW5nOiAwIDIwcHg7DQpiYWNrZ3JvdW5kLWNvbG9yOiAjMTYxNTIyOw0KY29sb3I6ICNmZmY7DQpib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KfQ0KLnNjcmVlbi1oZWFkZXIgew0Kd2lkdGg6IDEwMCU7DQpoZWlnaHQ6IDY0cHg7DQpmb250LXNpemU6IDIwcHg7DQpwb3NpdGlvbjogcmVsYXRpdmU7DQo+IGRpdiB7DQppbWcgew0Kd2lkdGg6IDEwMCU7DQp9DQp9DQoudGl0bGUgew0KcG9zaXRpb246IGFic29sdXRlOw0KbGVmdDogNTAlOw0KdG9wOiA1MCU7DQpmb250LXNpemU6IDIwcHg7DQp0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsNCn0NCi50aXRsZS1yaWdodCB7DQpkaXNwbGF5OiBmbGV4Ow0KYWxpZ24taXRlbXM6IGNlbnRlcjsNCnBvc2l0aW9uOmFic29sdXRlOw0KcmlnaHQ6IDBweDsNCnRvcDogNTAlOw0KdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC04MCUpOw0KfQ0KLnFpZWh1YW4gew0Kd2lkdGg6IDI4cHg7DQpoZWlnaHQ6IDIxcHg7DQpjdXJzb3I6IHBvaW50ZXI7DQp9DQouZGF0ZXRpbWUgew0KZm9udC1zaXplOiAxNXB4Ow0KbWFyZ2luLWxlZnQ6IDEwcHg7DQp9DQoubG9nbyB7DQpwb3NpdGlvbjogYWJzb2x1dGU7DQpsZWZ0OiAwcHg7DQp0b3A6IDUwJTsNCnRyYW5zZm9ybTogdHJhbnNsYXRlWSgtODAlKTsNCmltZyB7DQpoZWlnaHQ6IDM1cHg7DQp3aWR0aDogMTI4cHg7DQp9DQp9DQp9DQouc2NyZWVuLWJvZHkgew0Kd2lkdGg6IDEwMCU7DQpoZWlnaHQ6IDEwMCU7DQpkaXNwbGF5OiBmbGV4Ow0KbWFyZ2luLXRvcDogMTBweDsNCi5zY3JlZW4tbGVmdCB7DQpoZWlnaHQ6IDEwMCU7DQp3aWR0aDogMjcuNiU7DQojbGVmdC10b3Agew0KaGVpZ2h0OiA1MyU7DQpwb3NpdGlvbjogcmVsYXRpdmU7DQp9DQojbGVmdC1ib3R0b20gew0KaGVpZ2h0OiAzMSU7DQptYXJnaW4tdG9wOiAyNXB4Ow0KcG9zaXRpb246IHJlbGF0aXZlOw0KfQ0KfQ0KLnNjcmVlbi1taWRkbGUgew0KaGVpZ2h0OiAxMDAlOw0Kd2lkdGg6IDQxLjUlOw0KbWFyZ2luLWxlZnQ6IDEuNiU7DQptYXJnaW4tcmlnaHQ6IDEuNiU7DQojbWlkZGxlLXRvcCB7DQp3aWR0aDogMTAwJTsNCmhlaWdodDogNTYlOw0KcG9zaXRpb246IHJlbGF0aXZlOw0KfQ0KI21pZGRsZS1ib3R0b20gew0KbWFyZ2luLXRvcDogMjVweDsNCndpZHRoOiAxMDAlOw0KaGVpZ2h0OiAyOCU7DQpwb3NpdGlvbjogcmVsYXRpdmU7DQp9DQp9DQouc2NyZWVuLXJpZ2h0IHsNCmhlaWdodDogMTAwJTsNCndpZHRoOiAyNy42JTsNCiNyaWdodC10b3Agew0KaGVpZ2h0OiA0NiU7DQpwb3NpdGlvbjogcmVsYXRpdmU7DQp9DQojcmlnaHQtYm90dG9tIHsNCmhlaWdodDogMzglOw0KbWFyZ2luLXRvcDogMjVweDsNCnBvc2l0aW9uOiByZWxhdGl2ZTsNCn0NCn0NCn0NCi8qIOiuvue9rnJlc2l6Zeagt+W8jyAqLw0KLnJlc2l6ZSB7DQpwb3NpdGlvbjogYWJzb2x1dGU7DQp0b3A6IDIwcHg7DQpyaWdodDogMjBweDsNCmN1cnNvcjogcG9pbnRlcjsNCn0NCg0K"},{"version":3,"sources":["ScreenPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ScreenPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n<div class=\"screen-container\">\r\n    <header class=\"screen-header\">\r\n        <div>\r\n            <img src=\"/static/img/header_border_dark.png\" alt=\"\">\r\n        </div>\r\n        <span class=\"logo\">\r\n            <img src=\"logoSrc\" alt=\"\" />\r\n        </span>\r\n        <span class=\"title\">电商平台实时监控系统</span>\r\n        <div class=\"title-right\">\r\n            <img src=\"/static/img/qiehuan_dark.png\" class=\"qiehuan\" @click=\"changeTheme\">\r\n            <span class=\"datetime\">2021-03-28 00:00:00</span>\r\n        </div>\r\n    </header>\r\n    <div class=\"screen-body\">\r\n        <section class=\"screen-left\">\r\n            <div id=\"left-top\" :class=\"[fullScreenStatus.trend ? 'fullscreen' :'']\">\r\n                <!-- 销量趋势图表 -->\r\n                <Trend ref=\"trend\"></Trend>\r\n                <div class=\"resize\">\r\n                    <span :class=\"['iconfont', fullScreenStatus.trend ? 'icon-compress-alt' : 'icon-expand-alt']\" @click=\"changeSize('trend')\">\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div id=\"left-bottom\" :class=\"[fullScreenStatus.seller ? 'fullscreen' :'']\">\r\n                <!-- 商家销售金额图表 -->\r\n                <Seller ref=\"seller\"></Seller>\r\n                <div class=\"resize\">\r\n                    <span :class=\"['iconfont', fullScreenStatus.seller ? 'icon-compress-alt' : 'icon-expand-alt']\" @click=\"changeSize('seller')\">\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n        <section class=\"screen-middle\">\r\n            <div id=\"middle-top\" :class=\"[fullScreenStatus.map ? 'fullscreen' :'']\">\r\n                <!-- 商家分布图表 -->\r\n                <Map ref=\"map\"></Map>\r\n                <div class=\"resize\">\r\n                    <span :class=\"['iconfont', fullScreenStatus.map ? 'icon-compress-alt' : 'icon-expand-alt']\" @click=\"changeSize('map')\">\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div id=\"middle-bottom\"  :class=\"[fullScreenStatus.rank ? 'fullscreen' :'']\">\r\n                <!-- 地区销量排行图表 -->\r\n                <Rank ref=\"rank\"></Rank>\r\n                <div class=\"resize\">\r\n                    <span :class=\"['iconfont', fullScreenStatus.rank ? 'icon-compress-alt' : 'icon-expand-alt']\" @click=\"changeSize('rank')\">\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n        <section class=\"screen-right\">\r\n            <div id=\"right-top\" :class=\"[fullScreenStatus.hot ? 'fullscreen' :'']\">\r\n                <!-- 热销商品占比图表 -->\r\n                <Hot ref=\"hot\"></Hot>\r\n                <div class=\"resize\">\r\n                    <span :class=\"['iconfont', fullScreenStatus.hot ? 'icon-compress-alt' : 'icon-expand-alt']\" @click=\"changeSize('hot')\">\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div id=\"right-bottom\" :class=\"[fullScreenStatus.stock ? 'fullscreen' :'']\">\r\n                <!-- 库存销量分析图表 -->\r\n                <Stock ref=\"stock\"></Stock>\r\n                <div class=\"resize\">\r\n                    <span :class=\"['iconfont', fullScreenStatus.stock ? 'icon-compress-alt' : 'icon-expand-alt']\" @click=\"changeSize('stock')\">\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Seller from '@/views/SellerPage'\r\nimport Trend from '@/views/TrendPage'\r\nimport Map from '@/views/MapPage'\r\nimport Stock from '@/views/StockPage'\r\nimport Rank from '@/views/RankPage'\r\nimport Hot from '@/views/HotPage'\r\nimport { mapState } from 'vuex'\r\nimport { getThemeValue } from '@/utils/theme_utils'\r\nexport default {\r\n  data () {\r\n    return {\r\n      fullScreenStatus: {\r\n        trend: false,\r\n        seller: false,\r\n        map: false,\r\n        rank: false,\r\n        hot: false,\r\n        stock: false\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['theme']),\r\n    ...mapState(['theme']),\r\n    borderSrc () {\r\n      return '/static/img/' + getThemeValue(this.theme).headerBorderSrc\r\n    },\r\n    logoSrc () {\r\n      return '/static/img/' + getThemeValue(this.theme).logoSrc\r\n    },\r\n    themeSrc () {\r\n      return '/static/img/' + getThemeValue(this.theme).themeSrc\r\n    },\r\n    containerStyle () {\r\n      return {\r\n        backgroundColor: getThemeValue(this.theme).backgroundColor, color: getThemeValue(this.theme).titleColor\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.$socket.registerCallBack('fullScreen', this.recvData)\r\n  },\r\n  destroyed () {\r\n    this.$socket.unRegisterCallBack('fullScreen')\r\n  },\r\n  components: {\r\n    Hot,\r\n    Map,\r\n    Trend,\r\n    Seller,\r\n    Stock,\r\n    Rank\r\n  },\r\n  methods: {\r\n    changeSize (charName) {\r\n      // 先得到目标状态\r\n      const targetValue = !this.fullScreenStatus[charName]\r\n      // 将所有的图表设置为非全屏\r\n      // Object.keys(this.fullScreenStatus).forEach(item => {\r\n      // this.fullScreenStatus[item] = false\r\n      // })\r\n      // 将目标图表设置为目标状态\r\n      // this.fullScreenStatus[charName] = targetValue\r\n      // this.$nextTick(() => {\r\n      // this.$refs[charName].screenAdapter()\r\n      // })\r\n      this.$socket.send({\r\n        action: 'fullScreen',\r\n        socketType: 'fullScreen',\r\n        charName: charName,\r\n        value: targetValue\r\n      })\r\n    },\r\n    recvData (data) {\r\n      // 将所有的图表设置为非全屏\r\n      Object.keys(this.fullScreenStatus).forEach(item => {\r\n        this.fullScreenStatus[item] = false\r\n      })\r\n      // 将目标图表设置为目标状态\r\n      this.fullScreenStatus[data.charName] = data.value\r\n      // 更新所有图表\r\n      Object.keys(this.fullScreenStatus).forEach(item => {\r\n        this.$nextTick(() => {\r\n          this.$refs[item].screenAdapter()\r\n        })\r\n      })\r\n    },\r\n    // 切换主题\r\n    changeTheme () {\r\n      this.$store.commit('changeTheme')\r\n    }\r\n\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n/* 全屏展示 */\r\n.fullscreen {\r\nposition: fixed!important;\r\ntop: 0 !important;\r\nleft: 0 !important;\r\nwidth: 100% !important;\r\nheight: 100% !important;\r\nmargin: 0 !important;\r\nz-index: 100;\r\n}\r\n.screen-container {\r\nwidth: 100%;\r\nheight: 100%;\r\npadding: 0 20px;\r\nbackground-color: #161522;\r\ncolor: #fff;\r\nbox-sizing: border-box;\r\n}\r\n.screen-header {\r\nwidth: 100%;\r\nheight: 64px;\r\nfont-size: 20px;\r\nposition: relative;\r\n> div {\r\nimg {\r\nwidth: 100%;\r\n}\r\n}\r\n.title {\r\nposition: absolute;\r\nleft: 50%;\r\ntop: 50%;\r\nfont-size: 20px;\r\ntransform: translate(-50%, -50%);\r\n}\r\n.title-right {\r\ndisplay: flex;\r\nalign-items: center;\r\nposition:absolute;\r\nright: 0px;\r\ntop: 50%;\r\ntransform: translateY(-80%);\r\n}\r\n.qiehuan {\r\nwidth: 28px;\r\nheight: 21px;\r\ncursor: pointer;\r\n}\r\n.datetime {\r\nfont-size: 15px;\r\nmargin-left: 10px;\r\n}\r\n.logo {\r\nposition: absolute;\r\nleft: 0px;\r\ntop: 50%;\r\ntransform: translateY(-80%);\r\nimg {\r\nheight: 35px;\r\nwidth: 128px;\r\n}\r\n}\r\n}\r\n.screen-body {\r\nwidth: 100%;\r\nheight: 100%;\r\ndisplay: flex;\r\nmargin-top: 10px;\r\n.screen-left {\r\nheight: 100%;\r\nwidth: 27.6%;\r\n#left-top {\r\nheight: 53%;\r\nposition: relative;\r\n}\r\n#left-bottom {\r\nheight: 31%;\r\nmargin-top: 25px;\r\nposition: relative;\r\n}\r\n}\r\n.screen-middle {\r\nheight: 100%;\r\nwidth: 41.5%;\r\nmargin-left: 1.6%;\r\nmargin-right: 1.6%;\r\n#middle-top {\r\nwidth: 100%;\r\nheight: 56%;\r\nposition: relative;\r\n}\r\n#middle-bottom {\r\nmargin-top: 25px;\r\nwidth: 100%;\r\nheight: 28%;\r\nposition: relative;\r\n}\r\n}\r\n.screen-right {\r\nheight: 100%;\r\nwidth: 27.6%;\r\n#right-top {\r\nheight: 46%;\r\nposition: relative;\r\n}\r\n#right-bottom {\r\nheight: 38%;\r\nmargin-top: 25px;\r\nposition: relative;\r\n}\r\n}\r\n}\r\n/* 设置resize样式 */\r\n.resize {\r\nposition: absolute;\r\ntop: 20px;\r\nright: 20px;\r\ncursor: pointer;\r\n}\r\n\r\n</style>\r\n"]}]}