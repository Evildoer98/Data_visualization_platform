{"remainingRequest":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\12130\\Desktop\\项目\\vision\\src\\views\\ScreenPage.vue?vue&type=style&index=0&id=6e92ad55&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\src\\views\\ScreenPage.vue","mtime":1616914270296},{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\css-loader\\dist\\cjs.js","mtime":1615108059555},{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1615108060518},{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\postcss-loader\\src\\index.js","mtime":1611403627919},{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615108034129},{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\vue-loader\\lib\\index.js","mtime":1615108060518}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQovKiAvLyDlhajlsY/moLflvI/nmoTlrprkuYkgKi8NCi5mdWxsc2NyZWVuIHsNCiAgcG9zaXRpb246IGZpeGVkIWltcG9ydGFudDsNCiAgdG9wOiAwICFpbXBvcnRhbnQ7DQogIGxlZnQ6IDAgIWltcG9ydGFudDsNCiAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDsNCiAgaGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7DQogIG1hcmdpbjogMCAhaW1wb3J0YW50Ow0KICB6LWluZGV4OiAxMDA7DQp9DQoNCi5zY3JlZW4tY29udGFpbmVyIHsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogMTAwJTsNCiAgcGFkZGluZzogMCAyMHB4Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTYxNTIyOw0KICBjb2xvcjogI2ZmZjsNCiAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCn0NCi5zY3JlZW4taGVhZGVyIHsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogNjRweDsNCiAgZm9udC1zaXplOiAyMHB4Ow0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogID4gZGl2IHsNCiAgICAgIGltZyB7DQogICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgfQ0KICAgIH0NCiAgLnRpdGxlIHsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgbGVmdDogNTAlOw0KICAgIHRvcDogNTAlOw0KICAgIGZvbnQtc2l6ZTogMjBweDsNCiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsNCiAgfQ0KICAudGl0bGUtcmlnaHQgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBwb3NpdGlvbjphYnNvbHV0ZTsNCiAgICByaWdodDogMHB4Ow0KICAgIHRvcDogNTAlOw0KICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtODAlKTsNCiAgfQ0KICAucWllaHVhbiB7DQogICAgd2lkdGg6IDI4cHg7DQogICAgaGVpZ2h0OiAyMXB4Ow0KICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgfQ0KICAuZGF0ZXRpbWUgew0KICAgIGZvbnQtc2l6ZTogMTVweDsNCiAgICBtYXJnaW4tbGVmdDogMTBweDsNCiAgfQ0KICAubG9nbyB7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIGxlZnQ6IDBweDsNCiAgICB0b3A6IDUwJTsNCiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTgwJSk7DQogICAgaW1nIHsNCiAgICAgIGhlaWdodDogMzVweDsNCiAgICAgIHdpZHRoOiAxMjhweDsNCiAgICB9DQogIH0NCn0NCi5zY3JlZW4tYm9keSB7DQogIHdpZHRoOiAxMDAlOw0KICBoZWlnaHQ6IDEwMCU7DQogIGRpc3BsYXk6IGZsZXg7DQogIG1hcmdpbi10b3A6IDEwcHg7DQogIC5zY3JlZW4tbGVmdCB7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIHdpZHRoOiAyNy42JTsNCiAgICAjbGVmdC10b3Agew0KICAgICAgaGVpZ2h0OiA1MyU7DQogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgfQ0KICAgICNsZWZ0LWJvdHRvbSB7DQogICAgICBoZWlnaHQ6IDMxJTsNCiAgICAgIG1hcmdpbi10b3A6IDI1cHg7DQogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgfQ0KICB9DQogIC5zY3JlZW4tbWlkZGxlIHsNCiAgICBoZWlnaHQ6IDEwMCU7DQogICAgd2lkdGg6IDQxLjUlOw0KICAgIG1hcmdpbi1sZWZ0OiAxLjYlOw0KICAgIG1hcmdpbi1yaWdodDogMS42JTsNCiAgICAjbWlkZGxlLXRvcCB7DQogICAgICB3aWR0aDogMTAwJTsNCiAgICAgIGhlaWdodDogNTYlOw0KICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgIH0NCiAgICAjbWlkZGxlLWJvdHRvbSB7DQogICAgICBtYXJnaW4tdG9wOiAyNXB4Ow0KICAgICAgd2lkdGg6IDEwMCU7DQogICAgICBoZWlnaHQ6IDI4JTsNCiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICB9DQogIH0NCiAgLnNjcmVlbi1yaWdodCB7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIHdpZHRoOiAyNy42JTsNCiAgICAjcmlnaHQtdG9wIHsNCiAgICAgIGhlaWdodDogNDYlOw0KICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgIH0NCiAgICAjcmlnaHQtYm90dG9tIHsNCiAgICAgIGhlaWdodDogMzglOw0KICAgICAgbWFyZ2luLXRvcDogMjVweDsNCiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICB9DQogIH0NCn0NCi5yZXNpemUgew0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIHJpZ2h0OiAyMHB4Ow0KICB0b3A6IDIwcHg7DQogIGN1cnNvcjogcG9pbnRlcjsNCn0NCg=="},{"version":3,"sources":["ScreenPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ScreenPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"screen-container\" :style=\"containerStyle\">\r\n    <header class=\"screen-header\">\r\n      <div>\r\n        <img :src=\"headerSrc\" alt=\"\">\r\n      </div>\r\n      <span class=\"logo\">\r\n        <!-- <img :src=\"logoSrc\" alt=\"\" /> -->\r\n      </span>\r\n      <span class=\"title\">电商实时监控平台</span>\r\n      <div class=\"title-right\">\r\n        <img :src=\"themeSrc\" class=\"qiehuan\" @click=\"handleChangeTheme\">\r\n        <span class=\"datetime\">{{myDateTime}}</span>\r\n      </div>\r\n    </header>\r\n    <div class=\"screen-body\">\r\n      <section class=\"screen-left\">\r\n        <div id=\"left-top\" :class=\"[fullScreenStatus.trend ? 'fullscreen' : '']\">\r\n          <!-- 销量趋势图表 -->\r\n          <Trend ref=\"trend\"></Trend>\r\n          <div class=\"resize\">\r\n            <!-- icon-compress-alt -->\r\n            <span @click=\"changeSize('trend')\" :class=\"['iconfont', fullScreenStatus.trend ? 'icon-compress-alt' : 'icon-expand-alt']\"></span>\r\n          </div>\r\n        </div>\r\n        <div id=\"left-bottom\" :class=\"[fullScreenStatus.seller ? 'fullscreen' : '']\">\r\n          <!-- 商家销售金额图表 -->\r\n          <Seller ref=\"seller\"></Seller>\r\n          <div class=\"resize\">\r\n            <!-- icon-compress-alt -->\r\n            <span @click=\"changeSize('seller')\"  :class=\"['iconfont', fullScreenStatus.seller ? 'icon-compress-alt' : 'icon-expand-alt']\"></span>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <section class=\"screen-middle\">\r\n        <div id=\"middle-top\" :class=\"[fullScreenStatus.map ? 'fullscreen' : '']\">\r\n          <!-- 商家分布图表 -->\r\n          <Map ref=\"map\"></Map>\r\n          <div class=\"resize\">\r\n            <!-- icon-compress-alt -->\r\n            <span @click=\"changeSize('map')\"  :class=\"['iconfont', fullScreenStatus.map ? 'icon-compress-alt' : 'icon-expand-alt']\"></span>\r\n          </div>\r\n        </div>\r\n        <div id=\"middle-bottom\" :class=\"[fullScreenStatus.rank ? 'fullscreen' : '']\">\r\n          <!-- 地区销量排行图表 -->\r\n          <Rank ref=\"rank\"></Rank>\r\n          <div class=\"resize\">\r\n            <!-- icon-compress-alt -->\r\n            <span @click=\"changeSize('rank')\"  :class=\"['iconfont', fullScreenStatus.rank ? 'icon-compress-alt' : 'icon-expand-alt']\"></span>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <section class=\"screen-right\">\r\n        <div id=\"right-top\" :class=\"[fullScreenStatus.hot ? 'fullscreen' : '']\">\r\n          <!-- 热销商品占比图表 -->\r\n          <Hot ref=\"hot\"></Hot>\r\n          <div class=\"resize\">\r\n            <!-- icon-compress-alt -->\r\n            <span @click=\"changeSize('hot')\"  :class=\"['iconfont', fullScreenStatus.hot ? 'icon-compress-alt' : 'icon-expand-alt']\"></span>\r\n          </div>\r\n        </div>\r\n        <div id=\"right-bottom\" :class=\"[fullScreenStatus.stock ? 'fullscreen' : '']\">\r\n          <!-- 库存销量分析图表 -->\r\n          <Stock ref=\"stock\"></Stock>\r\n          <div class=\"resize\">\r\n            <!-- icon-compress-alt -->\r\n            <span @click=\"changeSize('stock')\"  :class=\"['iconfont', fullScreenStatus.stock ? 'icon-compress-alt' : 'icon-expand-alt']\"></span>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Hot from '@/components/Hot.vue'\r\nimport Map from '@/components/Map.vue'\r\nimport Rank from '@/components/Rank.vue'\r\nimport Seller from '@/components/Seller.vue'\r\nimport Stock from '@/components/Stock.vue'\r\nimport Trend from '@/components/Trend.vue'\r\nimport { mapState } from 'vuex'\r\nimport { getThemeValue } from '@/utils/theme_utils'\r\nexport default {\r\n  data () {\r\n    return {\r\n      // 定义每一个图表的全屏状态\r\n      fullScreenStatus: {\r\n        trend: false,\r\n        seller: false,\r\n        map: false,\r\n        rank: false,\r\n        hot: false,\r\n        stock: false\r\n      },\r\n      myDateTime: new Date(),\r\n      timeer: 0\r\n    }\r\n  },\r\n  created () {\r\n    // 注册接收到数据的回调函数\r\n    this.$socket.registerCallBack('fullScreen', this.recvData)\r\n    this.$socket.registerCallBack('themeChange', this.recvThemeChange)\r\n  },\r\n  mounted () {\r\n    const that = this\r\n    if (this.timeer) {\r\n      clearInterval(this.timeer)\r\n    }\r\n    this.timer = setInterval(() => {\r\n      that.myDateTime = new Date().toLocaleString()\r\n    }, 1000)\r\n  },\r\n  destroyed () {\r\n    this.$socket.unRegisterCallBack('fullScreen')\r\n    this.$socket.unRegisterCallBack('themeChange')\r\n    if (this.timeer) {\r\n      clearInterval(this.timeer)\r\n    }\r\n  },\r\n  methods: {\r\n    changeSize (chartName) {\r\n      // 1.改变fullScreenStatus的数据\r\n      // this.fullScreenStatus[chartName] = !this.fullScreenStatus[chartName]\r\n      // 2.需要调用每一个图表组件的screenAdapter的方法\r\n      // this.$refs[chartName].screenAdapter()\r\n      // this.$nextTick(() => {\r\n      //   this.$refs[chartName].screenAdapter()\r\n      // })\r\n      // 将数据发送给服务端\r\n      const targetValue = !this.fullScreenStatus[chartName]\r\n      this.$socket.send({\r\n        action: 'fullScreen',\r\n        socketType: 'fullScreen',\r\n        chartName: chartName,\r\n        value: targetValue\r\n      })\r\n    },\r\n    // 接收到全屏数据之后的处理\r\n    recvData (data) {\r\n      // 取出是哪一个图表需要进行切换\r\n      const chartName = data.chartName\r\n      // 取出, 切换成什么状态\r\n      const targetValue = data.value\r\n      this.fullScreenStatus[chartName] = targetValue\r\n      this.$nextTick(() => {\r\n        this.$refs[chartName].screenAdapter()\r\n      })\r\n    },\r\n    handleChangeTheme () {\r\n      // 修改VueX中数据\r\n      // this.$store.commit('changeTheme')\r\n      console.log('hahah')\r\n      this.$socket.send({\r\n        action: 'themeChange',\r\n        socketType: 'themeChange',\r\n        chartName: '',\r\n        value: ''\r\n      })\r\n    },\r\n    recvThemeChange () {\r\n      this.$store.commit('changeTheme')\r\n    }\r\n  },\r\n  components: {\r\n    Hot,\r\n    Map,\r\n    Rank,\r\n    Seller,\r\n    Stock,\r\n    Trend\r\n  },\r\n  computed: {\r\n    // logoSrc () {\r\n    //   return '/static/img/' + getThemeValue(this.theme).logoSrc\r\n    // },\r\n    headerSrc () {\r\n      return '/static/img/' + getThemeValue(this.theme).headerBorderSrc\r\n    },\r\n    themeSrc () {\r\n      return '/static/img/' + getThemeValue(this.theme).themeSrc\r\n    },\r\n    containerStyle () {\r\n      return {\r\n        backgroundColor: getThemeValue(this.theme).backgroundColor,\r\n        color: getThemeValue(this.theme).titleColor\r\n      }\r\n    },\r\n    ...mapState(['theme'])\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n/* // 全屏样式的定义 */\r\n.fullscreen {\r\n  position: fixed!important;\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  margin: 0 !important;\r\n  z-index: 100;\r\n}\r\n\r\n.screen-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 0 20px;\r\n  background-color: #161522;\r\n  color: #fff;\r\n  box-sizing: border-box;\r\n}\r\n.screen-header {\r\n  width: 100%;\r\n  height: 64px;\r\n  font-size: 20px;\r\n  position: relative;\r\n  > div {\r\n      img {\r\n        width: 100%;\r\n      }\r\n    }\r\n  .title {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    font-size: 20px;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n  .title-right {\r\n    display: flex;\r\n    align-items: center;\r\n    position:absolute;\r\n    right: 0px;\r\n    top: 50%;\r\n    transform: translateY(-80%);\r\n  }\r\n  .qiehuan {\r\n    width: 28px;\r\n    height: 21px;\r\n    cursor: pointer;\r\n  }\r\n  .datetime {\r\n    font-size: 15px;\r\n    margin-left: 10px;\r\n  }\r\n  .logo {\r\n    position: absolute;\r\n    left: 0px;\r\n    top: 50%;\r\n    transform: translateY(-80%);\r\n    img {\r\n      height: 35px;\r\n      width: 128px;\r\n    }\r\n  }\r\n}\r\n.screen-body {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  margin-top: 10px;\r\n  .screen-left {\r\n    height: 100%;\r\n    width: 27.6%;\r\n    #left-top {\r\n      height: 53%;\r\n      position: relative;\r\n    }\r\n    #left-bottom {\r\n      height: 31%;\r\n      margin-top: 25px;\r\n      position: relative;\r\n    }\r\n  }\r\n  .screen-middle {\r\n    height: 100%;\r\n    width: 41.5%;\r\n    margin-left: 1.6%;\r\n    margin-right: 1.6%;\r\n    #middle-top {\r\n      width: 100%;\r\n      height: 56%;\r\n      position: relative;\r\n    }\r\n    #middle-bottom {\r\n      margin-top: 25px;\r\n      width: 100%;\r\n      height: 28%;\r\n      position: relative;\r\n    }\r\n  }\r\n  .screen-right {\r\n    height: 100%;\r\n    width: 27.6%;\r\n    #right-top {\r\n      height: 46%;\r\n      position: relative;\r\n    }\r\n    #right-bottom {\r\n      height: 38%;\r\n      margin-top: 25px;\r\n      position: relative;\r\n    }\r\n  }\r\n}\r\n.resize {\r\n  position: absolute;\r\n  right: 20px;\r\n  top: 20px;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n"]}]}