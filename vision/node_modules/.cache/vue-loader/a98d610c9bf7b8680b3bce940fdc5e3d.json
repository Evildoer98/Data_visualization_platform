{"remainingRequest":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\12130\\Desktop\\项目\\vision\\src\\views\\ScreenPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\src\\views\\ScreenPage.vue","mtime":1616858556541},{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615108034129},{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\babel-loader\\lib\\index.js","mtime":1615108034142},{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615108034129},{"path":"C:\\Users\\12130\\Desktop\\项目\\vision\\node_modules\\vue-loader\\lib\\index.js","mtime":1615108060518}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgU2VsbGVyIGZyb20gJ0Avdmlld3MvU2VsbGVyUGFnZScNCmltcG9ydCBUcmVuZCBmcm9tICdAL3ZpZXdzL1RyZW5kUGFnZScNCmltcG9ydCBNYXAgZnJvbSAnQC92aWV3cy9NYXBQYWdlJw0KaW1wb3J0IFN0b2NrIGZyb20gJ0Avdmlld3MvU3RvY2tQYWdlJw0KaW1wb3J0IFJhbmsgZnJvbSAnQC92aWV3cy9SYW5rUGFnZScNCmltcG9ydCBIb3QgZnJvbSAnQC92aWV3cy9Ib3RQYWdlJw0KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4Jw0KaW1wb3J0IHsgZ2V0VGhlbWVWYWx1ZSB9IGZyb20gJ0AvdXRpbHMvdGhlbWVfdXRpbHMnDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBmdWxsU2NyZWVuU3RhdHVzOiB7DQogICAgICAgIHRyZW5kOiBmYWxzZSwNCiAgICAgICAgc2VsbGVyOiBmYWxzZSwNCiAgICAgICAgbWFwOiBmYWxzZSwNCiAgICAgICAgcmFuazogZmFsc2UsDQogICAgICAgIGhvdDogZmFsc2UsDQogICAgICAgIHN0b2NrOiBmYWxzZQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBTdGF0ZShbJ3RoZW1lJ10pLA0KICAgIC4uLm1hcFN0YXRlKFsndGhlbWUnXSksDQogICAgYm9yZGVyU3JjICgpIHsNCiAgICAgIHJldHVybiAnL3N0YXRpYy9pbWcvJyArIGdldFRoZW1lVmFsdWUodGhpcy50aGVtZSkuaGVhZGVyQm9yZGVyU3JjDQogICAgfSwNCiAgICBsb2dvU3JjICgpIHsNCiAgICAgIHJldHVybiAnL3N0YXRpYy9pbWcvJyArIGdldFRoZW1lVmFsdWUodGhpcy50aGVtZSkubG9nb1NyYw0KICAgIH0sDQogICAgdGhlbWVTcmMgKCkgew0KICAgICAgcmV0dXJuICcvc3RhdGljL2ltZy8nICsgZ2V0VGhlbWVWYWx1ZSh0aGlzLnRoZW1lKS50aGVtZVNyYw0KICAgIH0sDQogICAgY29udGFpbmVyU3R5bGUgKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBnZXRUaGVtZVZhbHVlKHRoaXMudGhlbWUpLmJhY2tncm91bmRDb2xvciwgY29sb3I6IGdldFRoZW1lVmFsdWUodGhpcy50aGVtZSkudGl0bGVDb2xvcg0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCAoKSB7DQogICAgdGhpcy4kc29ja2V0LnJlZ2lzdGVyQ2FsbEJhY2soJ2Z1bGxTY3JlZW4nLCB0aGlzLnJlY3ZEYXRhKQ0KICB9LA0KICBkZXN0cm95ZWQgKCkgew0KICAgIHRoaXMuJHNvY2tldC51blJlZ2lzdGVyQ2FsbEJhY2soJ2Z1bGxTY3JlZW4nKQ0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgSG90LA0KICAgIE1hcCwNCiAgICBUcmVuZCwNCiAgICBTZWxsZXIsDQogICAgU3RvY2ssDQogICAgUmFuaw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgY2hhbmdlU2l6ZSAoY2hhck5hbWUpIHsNCiAgICAgIC8vIOWFiOW+l+WIsOebruagh+eKtuaAgQ0KICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSAhdGhpcy5mdWxsU2NyZWVuU3RhdHVzW2NoYXJOYW1lXQ0KICAgICAgLy8g5bCG5omA5pyJ55qE5Zu+6KGo6K6+572u5Li66Z2e5YWo5bGPDQogICAgICAvLyBPYmplY3Qua2V5cyh0aGlzLmZ1bGxTY3JlZW5TdGF0dXMpLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAvLyB0aGlzLmZ1bGxTY3JlZW5TdGF0dXNbaXRlbV0gPSBmYWxzZQ0KICAgICAgLy8gfSkNCiAgICAgIC8vIOWwhuebruagh+WbvuihqOiuvue9ruS4uuebruagh+eKtuaAgQ0KICAgICAgLy8gdGhpcy5mdWxsU2NyZWVuU3RhdHVzW2NoYXJOYW1lXSA9IHRhcmdldFZhbHVlDQogICAgICAvLyB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAvLyB0aGlzLiRyZWZzW2NoYXJOYW1lXS5zY3JlZW5BZGFwdGVyKCkNCiAgICAgIC8vIH0pDQogICAgICB0aGlzLiRzb2NrZXQuc2VuZCh7DQogICAgICAgIGFjdGlvbjogJ2Z1bGxTY3JlZW4nLA0KICAgICAgICBzb2NrZXRUeXBlOiAnZnVsbFNjcmVlbicsDQogICAgICAgIGNoYXJOYW1lOiBjaGFyTmFtZSwNCiAgICAgICAgdmFsdWU6IHRhcmdldFZhbHVlDQogICAgICB9KQ0KICAgIH0sDQogICAgcmVjdkRhdGEgKGRhdGEpIHsNCiAgICAgIC8vIOWwhuaJgOacieeahOWbvuihqOiuvue9ruS4uumdnuWFqOWxjw0KICAgICAgT2JqZWN0LmtleXModGhpcy5mdWxsU2NyZWVuU3RhdHVzKS5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICB0aGlzLmZ1bGxTY3JlZW5TdGF0dXNbaXRlbV0gPSBmYWxzZQ0KICAgICAgfSkNCiAgICAgIC8vIOWwhuebruagh+WbvuihqOiuvue9ruS4uuebruagh+eKtuaAgQ0KICAgICAgdGhpcy5mdWxsU2NyZWVuU3RhdHVzW2RhdGEuY2hhck5hbWVdID0gZGF0YS52YWx1ZQ0KICAgICAgLy8g5pu05paw5omA5pyJ5Zu+6KGoDQogICAgICBPYmplY3Qua2V5cyh0aGlzLmZ1bGxTY3JlZW5TdGF0dXMpLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRyZWZzW2l0ZW1dLnNjcmVlbkFkYXB0ZXIoKQ0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8vIOWIh+aNouS4u+mimA0KICAgIGNoYW5nZVRoZW1lICgpIHsNCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlVGhlbWUnKQ0KICAgIH0NCg0KICB9DQoNCn0NCg=="},{"version":3,"sources":["ScreenPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"ScreenPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n<div class=\"screen-container\">\r\n    <header class=\"screen-header\">\r\n        <div>\r\n            <img src=\"borderSrc\" alt=\"\">\r\n        </div>\r\n        <span class=\"logo\">\r\n            <img src=\"logoSrc\" alt=\"\" />\r\n        </span>\r\n        <span class=\"title\">电商平台实时监控系统</span>\r\n        <div class=\"title-right\">\r\n            <img src=\"/static/img/qiehuan_dark.png\" class=\"qiehuan\" @click=\"changeTheme\">\r\n            <span class=\"datetime\">2021-03-28 00:00:00</span>\r\n        </div>\r\n    </header>\r\n    <div class=\"screen-body\">\r\n        <section class=\"screen-left\">\r\n            <div id=\"left-top\" :class=\"[fullScreenStatus.trend ? 'fullscreen' :'']\">\r\n                <!-- 销量趋势图表 -->\r\n                <Trend ref=\"trend\"></Trend>\r\n                <div class=\"resize\">\r\n                    <span :class=\"['iconfont', fullScreenStatus.trend ? 'icon-compress-alt' : 'icon-expand-alt']\" @click=\"changeSize('trend')\">\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div id=\"left-bottom\" :class=\"[fullScreenStatus.seller ? 'fullscreen' :'']\">\r\n                <!-- 商家销售金额图表 -->\r\n                <Seller ref=\"seller\"></Seller>\r\n                <div class=\"resize\">\r\n                    <span :class=\"['iconfont', fullScreenStatus.seller ? 'icon-compress-alt' : 'icon-expand-alt']\" @click=\"changeSize('seller')\">\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n        <section class=\"screen-middle\">\r\n            <div id=\"middle-top\" :class=\"[fullScreenStatus.map ? 'fullscreen' :'']\">\r\n                <!-- 商家分布图表 -->\r\n                <Map ref=\"map\"></Map>\r\n                <div class=\"resize\">\r\n                    <span :class=\"['iconfont', fullScreenStatus.map ? 'icon-compress-alt' : 'icon-expand-alt']\" @click=\"changeSize('map')\">\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div id=\"middle-bottom\"  :class=\"[fullScreenStatus.rank ? 'fullscreen' :'']\">\r\n                <!-- 地区销量排行图表 -->\r\n                <Rank ref=\"rank\"></Rank>\r\n                <div class=\"resize\">\r\n                    <span :class=\"['iconfont', fullScreenStatus.rank ? 'icon-compress-alt' : 'icon-expand-alt']\" @click=\"changeSize('rank')\">\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n        <section class=\"screen-right\">\r\n            <div id=\"right-top\" :class=\"[fullScreenStatus.hot ? 'fullscreen' :'']\">\r\n                <!-- 热销商品占比图表 -->\r\n                <Hot ref=\"hot\"></Hot>\r\n                <div class=\"resize\">\r\n                    <span :class=\"['iconfont', fullScreenStatus.hot ? 'icon-compress-alt' : 'icon-expand-alt']\" @click=\"changeSize('hot')\">\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div id=\"right-bottom\" :class=\"[fullScreenStatus.stock ? 'fullscreen' :'']\">\r\n                <!-- 库存销量分析图表 -->\r\n                <Stock ref=\"stock\"></Stock>\r\n                <div class=\"resize\">\r\n                    <span :class=\"['iconfont', fullScreenStatus.stock ? 'icon-compress-alt' : 'icon-expand-alt']\" @click=\"changeSize('stock')\">\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Seller from '@/views/SellerPage'\r\nimport Trend from '@/views/TrendPage'\r\nimport Map from '@/views/MapPage'\r\nimport Stock from '@/views/StockPage'\r\nimport Rank from '@/views/RankPage'\r\nimport Hot from '@/views/HotPage'\r\nimport { mapState } from 'vuex'\r\nimport { getThemeValue } from '@/utils/theme_utils'\r\nexport default {\r\n  data () {\r\n    return {\r\n      fullScreenStatus: {\r\n        trend: false,\r\n        seller: false,\r\n        map: false,\r\n        rank: false,\r\n        hot: false,\r\n        stock: false\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['theme']),\r\n    ...mapState(['theme']),\r\n    borderSrc () {\r\n      return '/static/img/' + getThemeValue(this.theme).headerBorderSrc\r\n    },\r\n    logoSrc () {\r\n      return '/static/img/' + getThemeValue(this.theme).logoSrc\r\n    },\r\n    themeSrc () {\r\n      return '/static/img/' + getThemeValue(this.theme).themeSrc\r\n    },\r\n    containerStyle () {\r\n      return {\r\n        backgroundColor: getThemeValue(this.theme).backgroundColor, color: getThemeValue(this.theme).titleColor\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.$socket.registerCallBack('fullScreen', this.recvData)\r\n  },\r\n  destroyed () {\r\n    this.$socket.unRegisterCallBack('fullScreen')\r\n  },\r\n  components: {\r\n    Hot,\r\n    Map,\r\n    Trend,\r\n    Seller,\r\n    Stock,\r\n    Rank\r\n  },\r\n  methods: {\r\n    changeSize (charName) {\r\n      // 先得到目标状态\r\n      const targetValue = !this.fullScreenStatus[charName]\r\n      // 将所有的图表设置为非全屏\r\n      // Object.keys(this.fullScreenStatus).forEach(item => {\r\n      // this.fullScreenStatus[item] = false\r\n      // })\r\n      // 将目标图表设置为目标状态\r\n      // this.fullScreenStatus[charName] = targetValue\r\n      // this.$nextTick(() => {\r\n      // this.$refs[charName].screenAdapter()\r\n      // })\r\n      this.$socket.send({\r\n        action: 'fullScreen',\r\n        socketType: 'fullScreen',\r\n        charName: charName,\r\n        value: targetValue\r\n      })\r\n    },\r\n    recvData (data) {\r\n      // 将所有的图表设置为非全屏\r\n      Object.keys(this.fullScreenStatus).forEach(item => {\r\n        this.fullScreenStatus[item] = false\r\n      })\r\n      // 将目标图表设置为目标状态\r\n      this.fullScreenStatus[data.charName] = data.value\r\n      // 更新所有图表\r\n      Object.keys(this.fullScreenStatus).forEach(item => {\r\n        this.$nextTick(() => {\r\n          this.$refs[item].screenAdapter()\r\n        })\r\n      })\r\n    },\r\n    // 切换主题\r\n    changeTheme () {\r\n      this.$store.commit('changeTheme')\r\n    }\r\n\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n/* 全屏展示 */\r\n.fullscreen {\r\nposition: fixed!important;\r\ntop: 0 !important;\r\nleft: 0 !important;\r\nwidth: 100% !important;\r\nheight: 100% !important;\r\nmargin: 0 !important;\r\nz-index: 100;\r\n}\r\n.screen-container {\r\nwidth: 100%;\r\nheight: 100%;\r\npadding: 0 20px;\r\nbackground-color: #161522;\r\ncolor: #fff;\r\nbox-sizing: border-box;\r\n}\r\n.screen-header {\r\nwidth: 100%;\r\nheight: 64px;\r\nfont-size: 20px;\r\nposition: relative;\r\n> div {\r\nimg {\r\nwidth: 100%;\r\n}\r\n}\r\n.title {\r\nposition: absolute;\r\nleft: 50%;\r\ntop: 50%;\r\nfont-size: 20px;\r\ntransform: translate(-50%, -50%);\r\n}\r\n.title-right {\r\ndisplay: flex;\r\nalign-items: center;\r\nposition:absolute;\r\nright: 0px;\r\ntop: 50%;\r\ntransform: translateY(-80%);\r\n}\r\n.qiehuan {\r\nwidth: 28px;\r\nheight: 21px;\r\ncursor: pointer;\r\n}\r\n.datetime {\r\nfont-size: 15px;\r\nmargin-left: 10px;\r\n}\r\n.logo {\r\nposition: absolute;\r\nleft: 0px;\r\ntop: 50%;\r\ntransform: translateY(-80%);\r\nimg {\r\nheight: 35px;\r\nwidth: 128px;\r\n}\r\n}\r\n}\r\n.screen-body {\r\nwidth: 100%;\r\nheight: 100%;\r\ndisplay: flex;\r\nmargin-top: 10px;\r\n.screen-left {\r\nheight: 100%;\r\nwidth: 27.6%;\r\n#left-top {\r\nheight: 53%;\r\nposition: relative;\r\n}\r\n#left-bottom {\r\nheight: 31%;\r\nmargin-top: 25px;\r\nposition: relative;\r\n}\r\n}\r\n.screen-middle {\r\nheight: 100%;\r\nwidth: 41.5%;\r\nmargin-left: 1.6%;\r\nmargin-right: 1.6%;\r\n#middle-top {\r\nwidth: 100%;\r\nheight: 56%;\r\nposition: relative;\r\n}\r\n#middle-bottom {\r\nmargin-top: 25px;\r\nwidth: 100%;\r\nheight: 28%;\r\nposition: relative;\r\n}\r\n}\r\n.screen-right {\r\nheight: 100%;\r\nwidth: 27.6%;\r\n#right-top {\r\nheight: 46%;\r\nposition: relative;\r\n}\r\n#right-bottom {\r\nheight: 38%;\r\nmargin-top: 25px;\r\nposition: relative;\r\n}\r\n}\r\n}\r\n/* 设置resize样式 */\r\n.resize {\r\nposition: absolute;\r\ntop: 20px;\r\nright: 20px;\r\ncursor: pointer;\r\n}\r\n\r\n</style>\r\n"]}]}